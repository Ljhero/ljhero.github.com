<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on Ljhero&#39;s blog</title>
    <link>https://ljhero.github.io/posts/</link>
    <description>Recent content in Posts on Ljhero&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Mon, 02 May 2022 21:16:09 +0800</lastBuildDate><atom:link href="https://ljhero.github.io/posts/atom.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>使用 giscus 给博客添加评论功能</title>
      <link>https://ljhero.github.io/posts/2022-05-02-support-comment-using-giscus/</link>
      <pubDate>Mon, 02 May 2022 21:16:09 +0800</pubDate>
      
      <guid>https://ljhero.github.io/posts/2022-05-02-support-comment-using-giscus/</guid>
      <description>Giscus 简介 giscus 是由 GitHub Discussions 驱动的评论系统，全部评论数据储存在 GitHub Discussions 中，一篇博客关联一个 discussion。除了支持评论还支持关联 Discussion 帖子上的表情回复 (reaction) 。
配置 giscus 按照 giscus 官方文档 配置章节的说明，安装 giscus app 并在为所使用的 GitHub 仓库开启 Discussions 功能。
完成映射关系和特性配置后，获得启用 giscus 的代码。
&amp;lt;script src=&amp;#34;https://giscus.app/client.js&amp;#34; data-repo=&amp;#34;Ljhero/ljhero.github.com&amp;#34; data-repo-id=&amp;#34;MDEwOlJlcG9zaXRvcnkzNDQxNjk4&amp;#34; data-category=&amp;#34;Comments&amp;#34; data-category-id=&amp;#34;DIC_kwDOADSEIs4CO5XI&amp;#34; data-mapping=&amp;#34;pathname&amp;#34; data-reactions-enabled=&amp;#34;1&amp;#34; data-emit-metadata=&amp;#34;0&amp;#34; data-input-position=&amp;#34;top&amp;#34; data-theme=&amp;#34;light&amp;#34; data-lang=&amp;#34;zh-CN&amp;#34; data-loading=&amp;#34;lazy&amp;#34; crossorigin=&amp;#34;anonymous&amp;#34; async&amp;gt; &amp;lt;/script&amp;gt; 配置 Hugo 博客仓库根目录下创建 layouts/partials/comments.html 文件，文件中添加上一步获取到的 giscus 启用代码。
最后修改 config.yml 启用 comments
params: comments: true 参考资料 giscus 官方文档 PaperMod 主题 Comments 设置 胡涂说的文章给博客换了套新评论系统 </description>
      <content:encoded><![CDATA[<h2 id="giscus-简介">Giscus 简介</h2>
<p><a href="https://giscus.app/">giscus</a> 是由 GitHub Discussions 驱动的评论系统，全部评论数据储存在 <a href="https://docs.github.com/en/discussions/quickstart">GitHub Discussions</a> 中，一篇博客关联一个 discussion。除了支持评论还支持关联 Discussion 帖子上的表情回复 (reaction) 。</p>
<h2 id="配置-giscus">配置 giscus</h2>
<p>按照 <a href="https://giscus.app/zh-CN">giscus 官方文档</a> 配置章节的说明，<a href="https://github.com/apps/giscus">安装 giscus app</a> 并在为所使用的 GitHub 仓库<a href="https://docs.github.com/en/discussions/quickstart">开启 Discussions</a> 功能。</p>
<p>完成映射关系和特性配置后，获得启用 giscus 的代码。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&#34;https://giscus.app/client.js&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">repo</span><span class="o">=</span><span class="s2">&#34;Ljhero/ljhero.github.com&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">repo</span><span class="o">-</span><span class="nx">id</span><span class="o">=</span><span class="s2">&#34;MDEwOlJlcG9zaXRvcnkzNDQxNjk4&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">category</span><span class="o">=</span><span class="s2">&#34;Comments&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">category</span><span class="o">-</span><span class="nx">id</span><span class="o">=</span><span class="s2">&#34;DIC_kwDOADSEIs4CO5XI&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">mapping</span><span class="o">=</span><span class="s2">&#34;pathname&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">reactions</span><span class="o">-</span><span class="nx">enabled</span><span class="o">=</span><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">emit</span><span class="o">-</span><span class="nx">metadata</span><span class="o">=</span><span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">input</span><span class="o">-</span><span class="nx">position</span><span class="o">=</span><span class="s2">&#34;top&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">theme</span><span class="o">=</span><span class="s2">&#34;light&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">lang</span><span class="o">=</span><span class="s2">&#34;zh-CN&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">-</span><span class="nx">loading</span><span class="o">=</span><span class="s2">&#34;lazy&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">crossorigin</span><span class="o">=</span><span class="s2">&#34;anonymous&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">async</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></div><h2 id="配置-hugo">配置 Hugo</h2>
<p>博客仓库根目录下创建 <code>layouts/partials/comments.html</code> 文件，文件中添加上一步获取到的 giscus  启用代码。</p>
<p>最后修改 <code>config.yml</code> 启用 comments</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">params</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">comments</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><h2 id="参考资料">参考资料</h2>
<ul>
<li><a href="https://giscus.app/zh-CN">giscus 官方文档</a></li>
<li><a href="https://github.com/adityatelange/hugo-PaperMod/wiki/Features#comments">PaperMod 主题 Comments 设置</a></li>
<li>胡涂说的文章<a href="https://hutusi.com/articles/comment-via-giscus">给博客换了套新评论系统</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>使用 Hugo 和 GitHub Pages 搭建个人博客</title>
      <link>https://ljhero.github.io/posts/2022-05-02-build-blog-with-hugo/</link>
      <pubDate>Mon, 02 May 2022 13:08:44 +0000</pubDate>
      
      <guid>https://ljhero.github.io/posts/2022-05-02-build-blog-with-hugo/</guid>
      <description>本文记录使用 Hugo 和 GitHub Pages搭建个人博客过程 。
安装 Hugo Hugo 1是 Go 语言开发且开源的静态站点生成工具。 参考官方的 Quick Start教程进行安装和使用。
brew install hugo # 查看安装后的版本 ❯ hugo version hugo v0.98.0+extended darwin/arm64 BuildDate=unknown 新建博客代码目录 hugo new site ljhero.github.io -f yml # 初始化 git init 配置主题 下载安装 PaperMod 主题，通过 git submodule 的形式添加到 themes 目录。
git submodule add --depth=1 \ https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # update theme git submodule update --remote --merge 修改 config.yml 添加主题配置</description>
      <content:encoded><![CDATA[<p>本文记录使用 <a href="https://gohugo.io/">Hugo</a> 和 <a href="https://pages.github.com/">GitHub Pages</a>搭建个人博客过程 。</p>
<h2 id="安装-hugo">安装 Hugo</h2>
<p><a href="https://gohugo.io/">Hugo</a> <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>是 Go 语言开发且开源的静态站点生成工具。
参考官方的 <a href="https://gohugo.io/getting-started/quick-start/">Quick Start</a>教程进行安装和使用。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">brew install hugo
</span></span><span class="line"><span class="cl"><span class="c1"># 查看安装后的版本</span>
</span></span><span class="line"><span class="cl">❯ hugo version
</span></span><span class="line"><span class="cl">hugo v0.98.0+extended darwin/arm64 <span class="nv">BuildDate</span><span class="o">=</span>unknown
</span></span></code></pre></div><h2 id="新建博客代码目录">新建博客代码目录</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hugo new site ljhero.github.io -f yml
</span></span><span class="line"><span class="cl"><span class="c1"># 初始化</span>
</span></span><span class="line"><span class="cl">git init
</span></span></code></pre></div><h2 id="配置主题">配置主题</h2>
<p>下载安装 <a href="https://github.com/adityatelange/hugo-PaperMod">PaperMod</a> 主题，通过 git submodule 的形式添加到 themes 目录。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git submodule add --depth<span class="o">=</span><span class="m">1</span> <span class="se">\ </span>
</span></span><span class="line"><span class="cl">    https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
</span></span><span class="line"><span class="cl">git submodule update --init --recursive
</span></span><span class="line"><span class="cl"><span class="c1"># update theme</span>
</span></span><span class="line"><span class="cl">git submodule update --remote --merge
</span></span></code></pre></div><p>修改 <code>config.yml</code> 添加主题配置</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">paginate</span><span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">theme</span><span class="p">:</span><span class="w"> </span><span class="l">PaperMod</span><span class="w">
</span></span></span></code></pre></div><h2 id="设置-github-pages">设置 GitHub Pages</h2>
<p>参考 <a href="https://pages.github.com/">GitHub Pages</a> 教程，创建公开的同名 repo，并关联到本地通过 Hugo 创建的博客目录。</p>
<p>参考 Hugo 官方的 <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">Host on GitHub</a> 教程，通过 GitHub Action 构建生成静态 HTML 文件并发布到 <code>gh-pages</code> 分支。</p>
<ol>
<li>创建 Github Actions workflow 文件 <code>.github/workflows/gh-pages.yml</code> ，当有 push 操作时，自动构建并把生成的静态文件推送到 <code>gh-pages</code> 分支。</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build GH-Pages</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">paths-ignore</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;images/**&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;LICENSE&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;README.md&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">master </span><span class="w"> </span><span class="c"># Set a branch to deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># manual run</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">hugoVersion</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Hugo Version&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.98.0&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-20.04</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Git checkout</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Get Theme</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">git submodule update --init --recursive</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;${{ github.event.inputs.hugoVersion }}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --gc --verbose --minify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">github_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITHUB_TOKEN }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w">
</span></span></span></code></pre></div><ol start="2">
<li>修改 <code>config.yml</code>  设置 <code>baseURL</code> 为 GitHub Pages 关联的子域名</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">baseURL</span><span class="p">:</span><span class="w"> </span><span class="l">https://ljhero.github.io</span><span class="w">
</span></span></span></code></pre></div><ol start="3">
<li>push 代码后，前往 Github 上博客 repo 的设置页面，将 GitHub Pages 关联的 branch 修改为 <code>gh-pages</code>。</li>
</ol>
<h2 id="参考资料">参考资料</h2>
<ul>
<li>Hugo <a href="https://gohugo.io/getting-started/quick-start/">Quick Start</a></li>
<li>Hugo <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">Host on GitHub</a></li>
<li><a href="https://docs.github.com/en/pages">GitHub Pages Documentation</a></li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>参考 Hugo Quick Start&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
